<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Test prix décroissant + blocage</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body style="text-align:center; font-family: Arial; padding:20px;">

  <h2>Test prix décroissant</h2>

  <h1 id="price">200 €</h1>

  <p id="info">Le prix descend tout seul</p>

  <button id="blockBtn" style="font-size:22px; padding:15px 30px; margin-top:20px;">
    Bloquer l’objet
  </button>

  <script>
    // Variables de base
    let price = 200;
    let minPrice = 80;
    let blocked = false;

    // Fonction pour faire descendre le prix
    function decreasePrice() {
      if (!blocked && price > minPrice) {
        price--;
        document.getElementById("price").innerText = price + " €";
      }
    }

    // Descente automatique toutes les 0,3 secondes
    let priceInterval = setInterval(decreasePrice, 300);

    // Bouton pour bloquer le prix
    document.getElementById("blockBtn").onclick = function() {
      blocked = true;                     // On bloque le prix
      clearInterval(priceInterval);       // On arrête la descente
      document.getElementById("blockBtn").style.display = "none"; // Bouton disparaît
      document.getElementById("info").innerText =
        "✅ Objet bloqué à " + price + " €";
    };
  </script>

</body>
</html>
